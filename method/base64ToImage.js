const md5 = require('md5');
var base64ToImage = require('./converter');
var randomize = require('randomatic');
var fs = require('fs');
var resizebase64 = require('resize-base64');  
const Jimp = require('jimp');

var base64image = "data:image/jpeg;base64,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";




exports.base64ToImage = async function(image)
{	
	console.log("done 1");
	var file_type= image.substring("data:image/".length, image.indexOf(";base64"));
	//console.log(file_type)
	var path = require('path');
	__dirname = path.resolve();
	var path1 =  __dirname + '/images/temp/';
	var unique_key = md5(randomize('*', 30)).substr(0, 32);
	var optionalObj = {'fileName': unique_key+"."+file_type};
	//console.log(optionalObj)
	var imageInfo = base64ToImage(image, path1, optionalObj);
		
	if(imageInfo !== 0)
	{
		console.log(path1+unique_key+"."+file_type);
		return unique_key+"."+file_type;
	}
	else
	{
		console.log("fails");
		return "fail";
	}

}


